{
    "name": "calc",
    "command": "if (!IRC.secret) throw 'missing API key';\n\nconst obj = fetchSync(`http://api.wolframalpha.com/v2/query?appid=${IRC.secret}&input=${encodeURIComponent(input)}&output=json`, {type:'json'});\nlet result = obj.queryresult;\nwhile (result.recalculate) {\n    result = fetchSync(result.recalculate, {type: 'json'}).queryresult;\n}\n//print.log(result, {depth: 9, truncate: 1/0})\nif (result.success && result.pods) {\n    let res = []\n\n    for( let pod of result.pods) {\n        res.push(pod.subpods[0].plaintext)\n    }\n\n    print(_.truncate(res.slice(1,2).filter(d => !!d.trim()).join`, `.replace(/\\s+/g, ' '), {length: 396}));\n} else {\n    const errorMsg = `no results for ${_.truncate(input)} -`;\n    if (result.didyoumeans) {\n        if (Array.isArray(result.didyoumeans)) {\n            throw `${errorMsg} did you mean: ${result.didyoumeans.map(d => d.val).join`, `}`\n        }\n        throw `${errorMsg} did you mean: ${result.didyoumeans.val}`;\n    } else if (result.tips) {\n        throw `${errorMsg} ${result.tips.text.toLowerCase()}`;\n    }\n    throw `${errorMsg} ðŸ˜ž`\n}\n",
    "locked": true,
    "starred": true
}