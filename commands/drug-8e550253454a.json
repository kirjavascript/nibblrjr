{
    "name": "drug",
    "command": "throw `todo: fixme`\n\ngetJSON(\"http://tripbot.tripsit.me/api/tripsit/getDrug?name=\" + encodeURIComponent(input))\n    .then(obj => {\n        if (obj.err == null && obj.data) {\n    \n            var data = obj.data[0];\n    \n            var resp = '{p}' + data.pretty_name + '{/}';\n    \n            data.aliases && \" - (\" + data.aliases.map(d => `{dc}${d}{/}`).join(\", \") + \")\";\n            \n            data.properties.categories && (resp += \" - {o}\" + data.properties.categories.join(\"{/}, {o}\") + \"{/}\")\n    \n            resp += \"\\n\";\n    \n            data.properties.dose && (resp += data.properties.dose + \"\\n\");\n    \n            if (data.properties.onset && data.properties.duration && data.properties[\"after-effects\"]) {\n                resp += \"onset: \" + data.properties.onset +\n                    \"\\nduration: \" + data.properties.duration +\n                    \" after effects: \" + data.properties[\"after-effects\"] + \"\\n\";\n            }\n    \n            data.properties.summary && (resp += data.properties.summary);\n    \n            print(resp.trim());\n        }\n        else {\n            print('{r}' + obj.data[0].msg)\n        }\n\n    })\n    .catch(d => print('{r} no data for'+input))",
    "locked": true,
    "starred": true
}