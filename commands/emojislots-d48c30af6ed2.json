{
    "locked": true,
    "starred": false,
    "name": "emojislots",
    "command": "const _ = require('lodash');const dateFns = require('date-fns@1.30.1');const lastSpin = store.get('lastspin$' + IRC.message.from);\nIRC.require('module.count').next();\nconst now = new Date();\nconst { addMilliseconds, isBefore } = dateFns;\nif (lastSpin && isBefore(now, addMilliseconds(new Date(lastSpin), 1500))) {\n    throw new Error(IRC.message.from.toLowerCase() + ' pls wait 1.5s between spin');\n}\nstore.set('lastspin$' + IRC.message.from, now.toISOString());\n\nconst fruit = [...`ðŸ˜ðŸ˜‚ðŸ˜ƒðŸ˜„ðŸ˜…ðŸ˜†ðŸ˜‡ðŸ˜‰ðŸ˜Šâ˜ºï¸ðŸ˜‹ðŸ˜ŒðŸ˜ðŸ˜˜ðŸ˜šðŸ˜œðŸ˜ðŸ˜ŽðŸ˜ðŸ˜¶ðŸ˜ðŸ˜’ðŸ˜³ðŸ˜žðŸ˜ ðŸ˜¡ðŸ˜”â˜¹ï¸ðŸ˜£ðŸ˜–ðŸ˜«ðŸ˜©ðŸ˜¤ðŸ˜±ðŸ˜¨ðŸ˜°ðŸ˜¢ðŸ˜¥ðŸ˜ªðŸ˜“ðŸ˜­ðŸ˜µðŸ˜²ðŸ˜·ðŸ’¤ðŸ’©ðŸ˜ˆðŸ‘¿ðŸ‘¹ðŸ‘ºðŸ’€ðŸ‘»ðŸ‘½ðŸ˜ºðŸ˜¸ðŸ˜¹ðŸ˜»ðŸ˜¼ðŸ˜½ðŸ™€ðŸ˜¿ðŸ˜¾ðŸ™ŒðŸ‘ðŸ‘‹ðŸ‘ðŸ‘ŽðŸ‘ŠâœŠâœŒðŸ‘Œâœ‹ðŸ‘ðŸ’ªðŸ™â˜ðŸ‘†ðŸ‘‡ðŸ‘ˆðŸ‘‰âœðŸ’…ðŸ‘„ðŸ‘…ðŸ‘‚ðŸ‘ƒðŸ‘€ðŸ‘¤ðŸ‘¶ðŸ‘¦ðŸ‘§ðŸ‘¨ðŸ‘©ðŸ‘±ðŸ‘´ðŸ‘µðŸ‘²ðŸ‘³ðŸ‘®ðŸ‘·ðŸ’‚ðŸŽ…ðŸ‘¼ðŸ‘¸ðŸ‘°ðŸš¶ðŸƒðŸ’ƒðŸ‘¯ðŸ‘«ðŸ™‡ðŸ’ðŸ™…ðŸ™†ðŸ™‹ðŸ™ŽðŸ™ðŸ’‡ðŸ’†ðŸ’‘ðŸ‘©â€ðŸ‘¨â€â¤ï¸â€ðŸ’ðŸ‘ªðŸ‘§ðŸ‘¦ðŸ‘•ðŸ‘–ðŸ‘”ðŸ‘—ðŸ‘™ðŸ‘˜ðŸ’„ðŸ’‹ðŸ‘£ðŸ‘ ðŸ‘¡ðŸ‘¢ðŸ‘žðŸ‘ŸðŸ‘’ðŸŽ©ðŸŽ“ðŸ‘‘ðŸŽ’ðŸ‘ðŸ‘›ðŸ‘œðŸ’¼ðŸ‘“ðŸ’ðŸŒ‚ðŸ¶ðŸ±ðŸ­ðŸ¹ðŸ°ðŸ»ðŸ¼ðŸ¨ðŸ¯ðŸ®ðŸ·ðŸ½ðŸ¸ðŸ™ðŸµðŸ™ˆðŸ™‰ðŸ™ŠðŸ’ðŸ”ðŸ§ðŸ¦ðŸ¤ðŸ£ðŸ¥ðŸºðŸ—ðŸ´ðŸðŸ›ðŸŒðŸžðŸœðŸðŸ¢ðŸ ðŸŸðŸ¡ðŸ¬ðŸ³ðŸ«ðŸ˜ðŸ‘ðŸŽðŸ©ðŸ¾ðŸ²ðŸŒµðŸŽ„ðŸŒ´ðŸŒ±ðŸŒ¿â˜˜ðŸ€ðŸŽðŸŽ‹ðŸƒðŸ‚ðŸðŸŒ¾ðŸŒºðŸŒ»ðŸŒ¹ðŸŒ·ðŸŒ¼ðŸŒ¸ðŸ’ðŸ„ðŸŒ°ðŸŽƒðŸšðŸŒðŸŒ•ðŸŒ‘ðŸŒ“ðŸŒ”ðŸŒ›ðŸŒ™â­ï¸ðŸŒŸðŸ’«âœ¨â˜„â˜€ï¸â›…ï¸â˜ï¸âš¡ï¸ðŸ”¥ðŸ’¥â„ï¸â›„ï¸ðŸ’¨â˜‚â˜”ï¸ðŸ’§ðŸ’¦ðŸŒŠðŸðŸŽðŸŠðŸŒðŸ‰ðŸ‡ðŸ“ðŸˆðŸ’ðŸ‘ðŸðŸ…ðŸ†ðŸŒ½ðŸ ðŸ¯ðŸžðŸ—ðŸ–ðŸ¤ðŸ³ðŸ”ðŸŸðŸ•ðŸðŸœðŸ²ðŸ¥ðŸ£ðŸ±ðŸ›ðŸ™ðŸšðŸ˜ðŸ¢ðŸ¡ðŸ§ðŸ¨ðŸ¦ðŸ°ðŸŽ‚ðŸ®ðŸ¬ðŸ­ðŸ«ðŸ©ðŸªðŸºðŸ»ðŸ·ðŸ¸ðŸ¹ðŸ¶ðŸµâ˜• ï¸ðŸ´âš½ï¸ðŸ€ðŸˆâš¾ï¸ðŸŽ¾ðŸŽ±â›³ï¸ðŸŽ¿ðŸ‚ðŸŽ£ðŸŠðŸ„ðŸ›€ðŸ†ðŸŽ½ðŸŽ«ðŸŽ­ðŸŽ¨ðŸŽªðŸŽ¤ðŸŽ§ðŸŽ¼ðŸŽ¹ðŸŽ·ðŸŽºðŸŽ¸ðŸŽ»ðŸŽ¬ðŸŽ®ðŸ‘¾ðŸŽ¯ðŸŽ²ðŸŽ°ðŸŽ³ðŸš—ðŸš•ðŸš™ðŸšŒðŸš“ðŸš‘ðŸš’ðŸššðŸš²ðŸš¨ðŸšƒðŸš„ðŸš…ðŸš‡ðŸš‰âœˆï¸â›µï¸ðŸš¤ðŸš€ðŸ’ºâš“ï¸ðŸš§â›½ï¸ðŸšðŸš¥ðŸðŸš¢ðŸŽ¡ðŸŽ¢ðŸŽ ðŸŒðŸ—¼ðŸ­â›²ï¸ðŸŽ‘ðŸ—»ðŸŒ‹ðŸ—¾â›ºï¸ðŸŒ…ðŸŒ„ðŸŒ‡ðŸŒ†ðŸŒƒðŸŒ‰ðŸŒŒðŸŒ ðŸŽ‡ðŸŽ†ðŸŒˆðŸ°ðŸ¯ðŸ—½ðŸ ðŸ¡ðŸ¢ðŸ¬ðŸ£ðŸ¥ðŸ¦ðŸ¨ðŸªðŸ«ðŸ©ðŸ’’â›ªï¸âŒšï¸ðŸ“±ðŸ“²ðŸ’»âŒ¨ðŸ’½ðŸ’¾ðŸ’¿ðŸ“€ðŸ“¼ðŸ“·ðŸ“¹ðŸŽ¥ðŸ“žâ˜Žï¸ðŸ“ŸðŸ“ ðŸ“ºðŸ“»âŒ›ï¸ðŸ“¡ðŸ”‹ðŸ”ŒðŸ’¡ðŸ”¦ðŸ’¸ðŸ’µðŸ’´ðŸ’°ðŸ’³ðŸ’Žâš–ðŸ”§ðŸ”¨âš’ðŸ”©âš™ðŸ”«ðŸ’£ðŸ”ªâš”ðŸš¬â˜ ðŸ”®ðŸ’ˆâš—ðŸ’ŠðŸ’‰ðŸ”–ðŸš½ðŸ”‘ðŸšªðŸ—¿ðŸŽˆðŸŽðŸŽ€ðŸŽðŸŽŠðŸŽ‰ðŸŽŽðŸŽðŸŽŒðŸ®âœ‰ï¸ðŸ“©ðŸ“¨ðŸ“§ðŸ’ŒðŸ“®ðŸ’±`];\nconst bagSize = 15;\nconst wheelQty = 3;\nconst defaultJackpot = 100;\nconst cost = 1;\nconst c = '$';\n\nconst bag = _.shuffle(fruit).splice(0, bagSize);\nconst roll = () => {\n    return bag[(Math.random())*bagSize|0];\n};\n\nconst wheels = Array.from({length: wheelQty}).map(roll);\n\nlet jackpot = store.get('$jackpot');\nif (!jackpot) {\n    jackpot = defaultJackpot;\n    store.set('$jackpot', defaultJackpot)\n}\nconst jackpotStr = Intl.NumberFormat().format(+jackpot);\nconst pad = wheels.map(d => d.replace(/{(.*?)}/g,'').length).reduce((a, b) => a + b, 0) - 15 - jackpotStr.length;\nprint(`{o}[{y}SLOTSv2{/} ${pad>0?' '.repeat(pad):''}{g}Jackpot{/} {y}${c}${jackpotStr}{/}{o}]               {dgr} *slot machine sounds*{/}`);\nprint('{o}(' + wheels.join('{y}-{/}') + '{o}){y}/{r}Â°');\n\nconst funds = store.get(IRC.message.from) || 100;\n\nif (_.uniq(wheels).length == 1) {\n    const newScore = +funds + +jackpot\n    store.set(IRC.message.from, newScore)\n    print(`{rb} J A C K P O T !!!{/} ${IRC.message.from} has {y}${c}${Intl.NumberFormat().format(newScore)}`);\n    store.set('$jackpot', defaultJackpot);\n}\nelse {\n    const newScore = +funds - cost\n    store.set(IRC.message.from, newScore);\n    print(`${IRC.message.from} has {y}${c}${Intl.NumberFormat().format(newScore)}{/}`)\n    store.set('$jackpot', +jackpot + (cost * 2));\n}\n"
}
