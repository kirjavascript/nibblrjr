{
    "event": true,
    "locked": true,
    "starred": true,
    "name": "event.fetchURL",
    "command": "//const { JSDOM } = jsdom()\nconst URL = require('url');\n\nfunction bytes(input, places = 2) {\n    const sizes = ['', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];\n    const LEN = sizes.length;\n    let index = Math.floor(Math.log(input) / Math.log(1024));\n    let val = input / (1024 ** index);\n    let suffix = index < LEN ? sizes[index] : '?';\n    return (`${index > 0 ? val.toFixed(places) : val}${suffix}B`);\n};\n\nIRC.listen('message', event => {\n  \tif (!IRC.queryConfig('fetchURL', true)) return;\n\tconst urls = event.message.text.match(/(\\b(https?):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;()]*[-A-Z0-9+&@#\\/%=~_|()])/ig);\n    if (!urls || text.indexOf('##') === -1) return;\n  \t//const showAll = IRC.queryConfig('fetchURLAll', false);\n  \n  \turls.forEach(url => {\n      \t//fetchSync.dom()\n    });\n  \n\n});"
}