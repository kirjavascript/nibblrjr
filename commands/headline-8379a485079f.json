{
    "locked": false,
    "starred": false,
    "name": "headline",
    "command": "const _ = require('lodash');\n\nif (! input) {\n  input = 'barfs nan'\n}\n\n//let obj = fetchSync.json(`https://www.reddit.com/r/FloridaMan/random/.json`)\n//obj = Array.isArray(obj) ? obj[0] : obj\n//if (obj.error || !obj.data) {\n//  throw `it is dead ???`\n//} else if (obj.data.children.length) {\n//  const post = _.shuffle(obj.data.children)[0].data\n//  let hl = post.title.replace(/florida man|florida woman|floridaman|floridawoman|florida/gi, input.trim())\n//  store.save('last', post.url)\n//  print(`${hl.replace(/\\w+/g, IRC.breakHighlight)}`)\n//}\n\n// reddit suck\n\n// let obj = fetchSync.json(`https://floridaman.com/wp-json/wp/v2/posts?per_page=1&orderby=rand`)\n//let obj = fetchSync.json(`https://floridaman.com/wp-json/wp/v2/posts?per_page=20`)\n//if (obj.length) {\n//  const post = _.shuffle(obj)[0]\n//  let hl = post.title.rendered.replace(/florida man|florida woman|floridaman|floridawoman|florida/gi, input.trim())\n//  //store.save('last', post.url)\n//  print(`${hl.replace(/\\w+/g, IRC.breakHighlight)}`)\n//} else {\n//  print('no') \n//}\n\n// wordpress slow\n\n\n//https://lemmy.world/api/v3/post/list?community_name=floridaman&limit=50\n\nlet obj = fetchSync.json(`https://lemmy.world/api/v3/post/list?community_name=floridaman&limit=50`)\nif (obj.posts.length) {\n  const post = _.shuffle(obj.posts)[0]\n  let hl = post.post.name.replace(/florida man|florida woman|floridaman|floridawoman|florida/gi, input.trim())\n  store.save('last', post.post.url)\n  print(`${hl.replace(/\\w+/g, IRC.breakHighlight)}`)\n} else {\n  print('no') \n}"
}